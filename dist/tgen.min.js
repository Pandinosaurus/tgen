/**
 * seamless-texture-generator - Seamless texture generator
 * 
 * @version v1.0.2
 * @link https://texture-generator.com/
 * @license MIT
 */
window.tgen={version:"1.0.2",defaults:{},effects:{},filters:[],functions:[],blends:{},shapes:{},colormaps:{},events:{beforeEffect:{},afterEffect:{},beforeRender:{},afterRender:{}},config:{historyLast:15,historyName:"history",historyList:[]},effect:function(e,t,n){this.defaults[e]=t,this.effects[e]=n},function:function(e,t,n){this.functions.push(e),this.defaults[e]=t,this.effects[e]=n},filter:function(e,t,n){this.filters.push(e),this.defaults[e]=t,this.effects[e]=n},event:function(e,t,n){null!=this.events[e]&&(this.events[e][t]=n)},blend:function(e,t){this.blends[e]=t},shape:function(e,t){this.shapes[e]=t},colormap:function(e,t){this.colormaps[e]=t},init:function(c,o,e){var l=this,i=[],t={},s=0,n=null,u={shape:l.shapes,effects:Object.keys(l.effects),layers:[],normalize:e||"limitless"},d=function(){null==c&&(c=256),c<1&&(c=256),o<1&&(o=256),2048<c&&(c=2048),2048<o&&(o=2048),null==o&&(o=c),n=(c+o)/2};d(),u.log=function(){if(this.debug&&0<arguments.length){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);console.log(e)}},u.clear=function(){return u.texture.clear(),u.layers=[],i=[],s=0,t.start=(new Date).getTime(),u},u.buffer=function(e){this.data=null,this.debug=!1,this.components=4,this.width=c,this.height=o,this.wha=(this.width+this.height)/2,this.background=[0,0,0,255],"object"==typeof e&&(this.background=e),this.pixels=function(){return this.width*this.height},this.size=function(){return this.data.length},this.export=function(e){var t=this.size();switch(e=void 0!==e?e:u.normalize){case"limitless":for(var n=new Float32Array(t);t--;)n[t]=this.data[t];break;case"clamped":for(n=new Uint8ClampedArray(t);t--;)n[t]=this.data[t];break;case"pingpong":for(n=new Uint8ClampedArray(t);t--;)n[t]=u.calc.pingpong(this.data[t],0,255)}return n},this.clear=function(e){this.data=new Float32Array(this.width*this.height*this.components),null==e&&(e=this.background);for(var t=this.size();t;)this.data[t-1]=e[3],this.data[t-2]=e[2],this.data[t-3]=e[1],this.data[t-4]=e[0],t-=this.components},this.pattern=function(e,t){var n=e/t;if(t<=e)return r=e-(a=Math.floor(n)*t);if(e<0){var r,a=Math.ceil(n)*t;return t<=(r=t-Math.abs(e-a))?r-=t:r}},this.offset=function(e,t){return e=Math.round(e),t=Math.round(t),(e<0||e>=this.width)&&(e=this.pattern(e,this.width)),(t<0||t>=this.height)&&(t=this.pattern(t,this.height)),t*this.width*this.components+e*this.components},this.set=function(e,t,n){var r=this.offset(e,t);this.data[r]=n[0],this.data[r+1]=n[1],this.data[r+2]=n[2],this.data[r+3]=n[3]},this.get=function(e,t){var n=this.offset(e,t);return[this.data[n],this.data[n+1],this.data[n+2],this.data[n+3]]},this.canvas=function(e){for(var t=this.size(),n=e.getContext("2d").getImageData(0,0,this.width,this.height).data;t--;)u.texture.data[t]=n[t]},null===this.data&&this.clear()},u.texture=new u.buffer,u.layerCopy=function(e){for(var t=[],n=(e=this.layers[e]).length;n--;)t[n]=e[n];return t};var f=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n};u.clone=function(e,t){for(var n in t)"object"==typeof t[n]&&null!==t[n]&&e[n]?this.clone(e[n],t[n]):e[n]=t[n]},u.randInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},u.randIntSeed=function(e,t){return Math.floor(u.calc.randomseed()*(t-e+1))+e},u.randReal=function(e,t){return Math.random()*(t-e)+e},u.randRealSeed=function(e,t){return u.calc.randomseed()*(t-e)+e},u.randByArray=function(e,t){return"object"==typeof e&&(e=null!=t?u.randReal(e[0],e[1]):u.randInt(e[0],e[1])),e},u.randByArraySeed=function(e,t){return"object"==typeof e&&(e=null!=t?u.randRealSeed(e[0],e[1]):u.randIntSeed(e[0],e[1])),e};var r=function(e){return void 0===e&&(e=255),!0===e&&(e=128+u.randIntSeed(0,128)),[u.randIntSeed(0,255),u.randIntSeed(0,255),u.randIntSeed(0,255),e]};u.randItem=function(e){var t=e.length;return e[u.randInt(0,t-1)]};var h=function(e){var t,n=0;for(var r in e)Math.random()<1/++n&&(t=r);return t};u.rgba=function(e,t){return"random"===e?r(t):"randomalpha"===e?r(!0):("object"==typeof e[0]&&(e[0]=u.randIntSeed(e[0][0],e[0][1])),"object"==typeof e[1]&&(e[1]=u.randIntSeed(e[1][0],e[1][1])),"object"==typeof e[2]&&(e[2]=u.randIntSeed(e[2][0],e[2][1])),"object"==typeof e[3]&&(e[3]=u.randIntSeed(e[3][0],e[3][1])),e[3]%1!=0&&(e[3]=Math.round(255*e[3])),1==e[3]&&(e[3]=255),e)};var p=function(e,t,n){if(void 0!==n&&(t=n(t)),"object"==typeof t.count&&(t.count=u.randInt(t.count[0],t.count[1])),"random"===t.blend&&(t.blend=h(l.blends)),"object"==typeof t.blend){var r=t.blend.length;t.blend=t.blend[u.randInt(0,r-1)]}return void 0!==t.blend?u.point.blend=t.blend:u.point.blend="",t.rgba&&(t.rgba=u.rgba(t.rgba),u.point.rgba=[t.rgba[0],t.rgba[1],t.rgba[2],t.rgba[3]]),t.rgb&&(t.rgb=u.rgba(t.rgb),u.point.rgba=[t.rgb[0],t.rgb[1],t.rgb[2],255]),t};return u.findClosestIndex=function(e,t,n){for(var r=t;0<=r&&r<=e.length-1;r+=n)if(e[r])return r;return e.length-1},u.calc={pi:3.1415927,luminance:function(e){return.21*e[0]+.72*e[1]+.07*e[2]},randomseed:function(e){null==this.seed&&(this.seed=u.randInt(1,262140)),void 0!==e&&(this.seed=e);var t=1e4*Math.sin(this.seed++);return t-Math.floor(t)},normalize1:function(e){return u.calc.normalize(e,0,1)},normalize:function(e,t,n){return n<e?n:e<t?t:e},pingpong:function(e,t,n){return n<e?n-(e-n):e<t?Math.abs(e):e},interpolate:{linear:function(e,t,n){return e*(1-n)+t*n},cosine:function(e,t,n){var r=n*u.calc.pi,a=.5*(1-Math.cos(r));return e*(1-a)+t*a},catmullrom:function(e,t,n,r,a,i){var o=a/i,s=r-n-(e-t),c=s*o*o*o+(e-t-s)*o*o+(n-e)*o+t;return c<0&&(c=0),1<c&&(c=1),c}}},u.colormap={data:null,size:255,init:function(e,t,n){if(this.data=null,this.size=null==t?c:t,null==e||null==e)return e;if("object"==typeof e)if("object"==typeof e[0])for(key in e){var r=e[key];r.rgba=u.rgba(r.rgba),e[key]=r}else e=u.randItem(e);if("random"===e)for(var a=u.randIntSeed(1,4),i=(e=[],0);i<=a;i++)e[i]={percent:parseInt(i/a*100),rgba:[u.randIntSeed(0,255),u.randIntSeed(0,255),u.randIntSeed(0,255),255]};if("function"==typeof n&&n(e),"string"==typeof e){var o=!1;if("!"==e.charAt(0)&&(e=e.substring(1),o=!0),"function"==typeof l.colormaps[e]){var s=l.colormaps[e](t);this.data=this.render(s,o)}}"object"==typeof e&&(this.data=this.render(e))},render:function(e,t){for(var n=[],r=0;r<e.length-1;r++)for(var a=e[r],i=e[r+1],o=Math.round(this.size*(a.percent/100)),s=Math.round(this.size*(i.percent/100)),c=o;c<=s;c++)n[t?this.size-c:c]=[a.rgba[0]+(c-o)/(s-o)*(i.rgba[0]-a.rgba[0]),a.rgba[1]+(c-o)/(s-o)*(i.rgba[1]-a.rgba[1]),a.rgba[2]+(c-o)/(s-o)*(i.rgba[2]-a.rgba[2]),a.rgba[3]+(c-o)/(s-o)*(i.rgba[3]-a.rgba[3])];return n},get:function(e,t){if(null==e)return this.data;e=u.calc.pingpong(parseInt(e),0,this.size);var n=this.data[e];return void 0!==t&&(n[3]=t[3]),n}},u.wrapx=function(e){return e&c-1},u.wrapy=function(e){return e&o-1},u.point={rgba:[],mixed:[],blend:"opacity",colorize:function(e,t,n){return void 0===n&&(n=50),[e[0]-(e[0]-t[0])*(n/100),e[1]-(e[1]-t[1])*(n/100),e[2]-(e[2]-t[2])*(n/100),t[3]?t[3]:255]},opacity:function(e,t){if(255==e[3])return e[3]=t[3],e;if(0==t[3])return t;var n=e[3]/255;return[e[0]*n+t[0]*(1-n),e[1]*n+t[1]*(1-n),e[2]*n+t[2]*(1-n),t[3]]},set:function(e,t){var n=u.texture.get(e,t);switch(void 0!==l.blends[this.blend]?(this.rgba=l.blends[this.blend](u,n,this.rgba),this.mixed=this.opacity(this.rgba,n)):this.mixed=this.rgba,u.normalize){case"clamped":this.mixed[0]=Math.max(0,Math.min(255,this.mixed[0])),this.mixed[1]=Math.max(0,Math.min(255,this.mixed[1])),this.mixed[2]=Math.max(0,Math.min(255,this.mixed[2])),this.mixed[3]=Math.max(0,Math.min(255,this.mixed[3]));break;case"pingpong":this.mixed[0]=u.calc.pingpong(this.mixed[0],0,255),this.mixed[1]=u.calc.pingpong(this.mixed[1],0,255),this.mixed[2]=u.calc.pingpong(this.mixed[2],0,255),this.mixed[3]=u.calc.pingpong(this.mixed[3],0,255)}u.texture.set(e,t,this.mixed)},get:function(e,t,n){return u.texture.get(e,t)}},u.walk=function(e){for(var t=0;t<c;t++)for(var n=0;n<o;n++){var r=u.point.get(t,n);r=e(r,t,n),u.point.rgba=r,u.point.set(t,n)}},u.percent=function(e,t){return parseInt(e/100*t,10)},u.percentX=function(e){return parseInt(e/100*c,10)},u.percentY=function(e){return parseInt(e/100*o,10)},u.percentXY=function(e){return parseInt(e/100*n,10)},u.xysize=function(e,t){var n,r,a;return null!=t.elements?(n=t.elements[e].x,r=t.elements[e].y,a=t.elements[e].size):("random"==t.origin?(n=u.randIntSeed(0,c),r=u.randIntSeed(0,o)):(n=t.origin[0],r=t.origin[1]),a=u.randByArraySeed(t.size)),{x:n,y:r,size:a}},u.toContext=function(e,t){for(var n=e.createImageData(c,o),r=n.data,a=t.length,i=0;i<a;i+=4)r[i]=t[i],r[i+1]=t[i+1],r[i+2]=t[i+2],r[i+3]=t[i+3];return n},u.toCanvas=function(e){null==e&&(e=u.texture.data);var t=document.createElement("canvas");t.width=c,t.height=o;var n=t.getContext("2d"),r=this.toContext(n,e);return n.putImageData(r,0,0),t},u.getCanvas=function(e){if(e){var t=this.layers[this.layers.length-1];e(this.toCanvas(t))}return this},u.getPhases=function(e){if(e){for(var t=[],n=u.layers.length,r=0;r<n;r++)t.push(this.toCanvas(this.layers[r]));e(t)}return this},u.stat=function(e){return t.stop=(new Date).getTime(),t.elapsed=(t.stop-t.start)/1e3,e&&e(t),this},u.history={available:function(){try{return"localStorage"in window&&null!==window.localStorage&&void 0!==window.localStorage}catch(e){return!1}},list:function(){return this.available()&&JSON.parse(window.localStorage.getItem(l.config.historyName))||[]},last:function(){return this.available()?l.config.historyList[l.config.historyList.length-1]:[]},get:function(e){return this.available()?l.config.historyList[e]?l.config.historyList[e]:null:[]},add:function(e){if(l.config.historyLast){if(!this.available())return[];var t=u.params(e);l.config.historyList=JSON.parse(window.localStorage.getItem(l.config.historyName))||[],l.config.historyList.length>=l.config.historyLast&&l.config.historyList.shift(),l.config.historyList.push(t),window.localStorage.setItem(l.config.historyName,JSON.stringify(l.config.historyList))}}},u.params=function(e){if(null==e){var t=new Date;e=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+" l"+u.layers.length+" i"+i.length}return{name:e,version:l.version,width:c,height:o,normalize:u.normalize,items:i}},u.render=function(e,t){this.debug=!0===e.debug,u.event("beforeRender",e);var n=0;for(var r in null!=e.width&&(c=e.width),null!=e.height&&(o=e.height),null!=e.normalize?u.normalize=e.normalize:u.normalize="limitless",d(),u.texture=new u.buffer(e.background),1!=t&&u.clear(),e.items){s=e.items[r][0];var a=e.items[r][1],i=e.items[r][2];"random"==a&&(a=h(u.defaults)),"object"==typeof a&&(a=u.randItem(a)),n!=s&&(null!=u.layers[s]?u.texture.data=u.layers[s]:u.texture.clear(),n=s),null!=u[a]?u[a](i):null!=l.effects[a]?u.do(a,i):console.warn("undefined effect: "+a),u.layers[s]=u.texture.export()}return u.event("afterRender",u.params()),u.history.add(),this},u.event=function(e,t){for(var n in l.events[e]){var r=l.events[e][n];"function"==typeof r&&r(u,t)}},u.do=function(e,t){var n,r,a=t;return void 0===t?t=f({},l.defaults[e]):"object"==typeof t&&(t=f(l.defaults[e],t)),t.seed=t&&void 0!==t.seed&&null!==t.seed?t.seed:[1,262140],t.seed=u.randByArray(t.seed),u.calc.randomseed(t.seed),t=p(0,t),u.event("beforeEffect",{layer:s,name:e,params:t}),"function"==typeof l.effects[e]?t=l.effects[e](u,t):console.warn("effect not callable: "+e),void 0===t&&(t=a),u.event("afterEffect",{layer:s,name:e,params:t}),!1!==t.store&&(n=e,r=t,i.push([s,n,r])),u},u}},function(e){var t=window.tgen;t.blend("opacity",function(e,t,n){return n}),t.blend("multiply",function(e,t,n){return n[0]=t[0]*n[0]/255,n[1]=t[1]*n[1]/255,n[2]=t[2]*n[2]/255,n}),t.blend("linearburn",function(e,t,n){return n[0]=t[0]+n[0]-255,n[1]=t[1]+n[1]-255,n[2]=t[2]+n[2]-255,n}),t.blend("difference",function(e,t,n){return n[0]=Math.abs(n[0]-t[0]),n[1]=Math.abs(n[1]-t[1]),n[2]=Math.abs(n[2]-t[2]),n}),t.blend("difference-invert",function(e,t,n){return n[0]=255-Math.abs(n[0]-t[0]),n[1]=255-Math.abs(n[1]-t[1]),n[2]=255-Math.abs(n[2]-t[2]),n}),t.blend("screen",function(e,t,n){return n[0]=255-(255-t[0])*(255-n[0])/255,n[1]=255-(255-t[1])*(255-n[1])/255,n[2]=255-(255-t[2])*(255-n[2])/255,n}),t.blend("overlay",function(e,t,n){return n[0]=128<t[0]?255-2*(255-n[0])*(255-t[0])/255:t[0]*n[0]*2/255,n[1]=128<t[1]?255-2*(255-n[1])*(255-t[1])/255:t[1]*n[1]*2/255,n[2]=128<t[2]?255-2*(255-n[2])*(255-t[2])/255:t[2]*n[2]*2/255,n}),t.blend("exclusion",function(e,t,n){return n[0]=128-2*(t[0]-128)*(n[0]-128)/255,n[1]=128-2*(t[1]-128)*(n[1]-128)/255,n[2]=128-2*(t[2]-128)*(n[2]-128)/255,n}),t.blend("darken",function(e,t,n){return n[0]=n[0]<t[0]?n[0]:t[0],n[1]=n[1]<t[1]?n[1]:t[1],n[2]=n[2]<t[2]?n[2]:t[2],n}),t.blend("lighten",function(e,t,n){return n[0]=n[0]>t[0]?n[0]:t[0],n[1]=n[1]>t[1]?n[1]:t[1],n[2]=n[2]>t[2]?n[2]:t[2],n}),t.blend("lineardodge",function(e,t,n){return n[0]=t[0]+n[0],n[1]=t[1]+n[1],n[2]=t[2]+n[2],n}),t.blend("lineardodge-invert",function(e,t,n){return n[0]=255-(n[0]+t[0]),n[1]=255-(n[1]+t[1]),n[2]=255-(n[2]+t[2]),n}),t.blend("linearlight",function(e,t,n){return n[0]=t[0]+2*n[0]-255,n[1]=t[1]+2*n[1]-255,n[2]=t[2]+2*n[2]-255,n}),t.blend("linearburn",function(e,t,n){return n[0]=t[0]+n[0]-255,n[1]=t[1]+n[1]-255,n[2]=t[2]+n[2]-255,n}),t.blend("softlight",function(e,t,n){return n[0]=128<t[0]?255-(255-t[0])*(255-(n[0]-128))/255:t[0]*(n[0]+128)/255,n[1]=128<t[1]?255-(255-t[1])*(255-(n[1]-128))/255:t[1]*(n[1]+128)/255,n[2]=128<t[2]?255-(255-t[2])*(255-(n[2]-128))/255:t[2]*(n[2]+128)/255,n}),t.blend("subbtract",function(e,t,n){return n[0]=Math.max(t[0]-n[0],0),n[1]=Math.max(t[1]-n[1],0),n[2]=Math.max(t[2]-n[2],0),n}),t.blend("backlight",function(e,t,n){return n[0]=255/t[0]*(255/n[0]),n[1]=255/t[1]*(255/n[1]),n[2]=255/t[2]*(255/n[2]),n}),t.blend("average",function(e,t,n){return n[0]=(n[0]+t[0])/2,n[1]=(n[1]+t[1])/2,n[2]=(n[2]+t[2])/2,n})}(),function(e){var t=window.tgen;t.colormap("blackwhite",function(){return[{percent:0,rgba:[0,0,0,255]},{percent:25,rgba:[255,255,255,255]},{percent:50,rgba:[0,0,0,255]},{percent:75,rgba:[255,255,255,255]},{percent:100,rgba:[0,0,0,255]}]}),t.colormap("dawn",function(){return[{percent:0,rgba:[255,255,192,255]},{percent:25,rgba:[255,255,128,255]},{percent:50,rgba:[255,128,128,255]},{percent:75,rgba:[128,0,128,255]},{percent:100,rgba:[0,0,128,255]}]}),t.colormap("dusk",function(){return[{percent:0,rgba:[255,255,255,255]},{percent:25,rgba:[255,128,255,255]},{percent:50,rgba:[128,0,255,255]},{percent:75,rgba:[0,0,128,255]},{percent:100,rgba:[0,0,0,255]}]}),t.colormap("kryptonite",function(){return[{percent:0,rgba:[255,255,255,255]},{percent:25,rgba:[255,255,128,255]},{percent:50,rgba:[128,255,0,255]},{percent:75,rgba:[0,128,0,255]},{percent:100,rgba:[0,0,0,255]}]}),t.colormap("ice",function(){return[{percent:0,rgba:[255,255,255,255]},{percent:25,rgba:[128,255,255,255]},{percent:50,rgba:[0,128,255,255]},{percent:75,rgba:[0,0,128,255]},{percent:100,rgba:[0,0,0,255]}]}),t.colormap("fire",function(){return[{percent:0,rgba:[255,255,255,255]},{percent:25,rgba:[255,255,128,255]},{percent:50,rgba:[255,128,0,255]},{percent:75,rgba:[128,0,0,255]},{percent:100,rgba:[0,0,0,255]}]}),t.colormap("redblue",function(){return[{percent:0,rgba:[96,0,0,255]},{percent:25,rgba:[192,0,0,255]},{percent:50,rgba:[255,255,255,255]},{percent:75,rgba:[0,0,192,255]},{percent:100,rgba:[0,0,96,255]}]}),t.colormap("seashore",function(){return[{percent:0,rgba:[255,255,192,255]},{percent:25,rgba:[255,255,128,255]},{percent:50,rgba:[128,255,128,255]},{percent:75,rgba:[0,128,128,255]},{percent:100,rgba:[0,0,128,255]}]})}(),function(e){var t=window.tgen;t.effect("fill",{blend:"",rgba:"randomalpha"},function(e,t){return e.shape.rect(e,1,1,e.texture.width,e.texture.height),t}),t.effect("noise",{blend:"lighten",mode:"monochrome",channels:[255,255,255],opacity:128,seed:[1,262140]},function(n,r){switch(r.mode){case"color":n.walk(function(e){return[r.channels[0]?n.randIntSeed(0,r.channels[0]):0,r.channels[1]?n.randIntSeed(0,r.channels[1]):0,r.channels[2]?n.randIntSeed(0,r.channels[2]):0,r.opacity]});break;case"monochrome":n.walk(function(e){var t=n.randIntSeed(0,255);return[t,t,t,r.opacity]});break;case"colorize":n.walk(function(e){return e=n.point.colorize(e,r.rgba)})}return r}),t.effect("spheres",{blend:"lighten",rgba:"random",origin:"random",dynamic:!1,count:21,size:[20,70],seed:[1,262140]},function(e,t){for(var n=0;n<t.count;n++){var r=e.xysize(n,t);e.shape.sphere(e,e.percentX(r.x),e.percentY(r.y),e.percentXY(r.size),!0,t.rgba,t.dynamic)}return t}),t.effect("pyramids",{blend:"lighten",rgba:"random",origin:"random",dynamic:!1,count:21,size:[21,100],seed:[1,262140]},function(e,t){for(var n=0;n<t.count;n++){var r=e.xysize(n,t);e.shape.pyramid(e,e.percentX(r.x),e.percentY(r.y),e.percentXY(r.size),e.percentXY(r.size),!0,t.rgba,t.dynamic)}return t}),t.effect("squares",{blend:"lighten",rgba:"random",origin:"random",count:[4,7],size:[2,50],seed:[1,262140]},function(e,t){for(var n=0;n<t.count;n++){var r=e.xysize(n,t);e.shape.rect(e,e.percentX(r.x),e.percentY(r.y),e.percentXY(r.size),e.percentXY(r.size),!1)}return t}),t.effect("circles",{blend:"lighten",rgba:"random",origin:"random",count:21,size:[1,15],seed:[1,262140]},function(e,t){for(var n=0;n<t.count;n++){var r=e.xysize(n,t);e.shape.circle(e,e.percentX(r.x),e.percentY(r.y),e.percentXY(r.size),!0)}return t}),t.effect("lines",{blend:"opacity",rgba:"random",size:[100,200],count:[100,400],freq1s:[21,150],freq1c:[21,150],freq2s:[21,150],freq2c:[21,150]},function(e,t){t.freq1s=e.randByArray(t.freq1s,!0),t.freq1c=e.randByArray(t.freq1c,!0),t.freq2s=e.randByArray(t.freq2s,!0),t.freq2c=e.randByArray(t.freq2c,!0),t.size=e.randByArray(t.size);for(var n=0;n<t.count;n++){var r=e.texture.width/2+Math.sin(n/t.freq1s*e.calc.pi)*t.size,a=e.texture.height/2+Math.cos(n/t.freq1c*e.calc.pi)*t.size,i=e.texture.width/2+Math.sin(n/t.freq2s*e.calc.pi)*t.size,o=e.texture.height/2+Math.cos(n/t.freq2c*e.calc.pi)*t.size;e.shape.line(e,r,a,i,o)}return t}),t.effect("lines2",{blend:["opacity","lighten","screen"],rgba:"random",type:"vertical",size:[.1,12],count:[2,32],seed:[1,262140]},function(e,t){for(var n=null,r=0;r<t.count;r++)n=null!=t.elements?t.elements[r]:{size:e.randByArraySeed(t.size,!0),d:e.randRealSeed(.1,100)},"vertical"==t.type?e.shape.rect(e,e.percentX(n.d),0,e.percentX(n.size),e.texture.height):e.shape.rect(e,0,e.percentX(n.d),e.texture.width,e.percentX(n.size));return t}),t.effect("subplasma",{seed:[1,262140],size:[3,4],rgba:"random"},function(e,t){t.size=e.randByArray(t.size);var n,r,a=1<<t.size,i=e.texture.width,o=i,s=[];i<a&&(a=i);var c=i/a;for(r=0;r<a;r++)for(n=0;n<a;n++)s[n*c+r*c*i]=e.calc.randomseed();for(r=0;r<a;r++)for(n=0;n<i;n++){var l=n&~(c-1),u=r*c*i;s[n+u]=e.calc.interpolate.catmullrom(s[(l-1*c&i-1)+u],s[(l-0*c&i-1)+u],s[(l+1*c&i-1)+u],s[(l+2*c&i-1)+u],n%c,c)}for(r=0;r<o;r++)for(n=0;n<i;n++){l=r&~(c-1);s[n+r*i]=e.calc.interpolate.catmullrom(s[n+(l-1*c&o-1)*i],s[n+(l-0*c&o-1)*i],s[n+(l+1*c&o-1)*i],s[n+(l+2*c&o-1)*i],r%c,c)}for(n=0;n<e.texture.width;n++)for(r=0;r<e.texture.height;r++){var d=255*s[n+r*i];e.point.rgba=e.point.colorize(t.rgba,[d,d,d,255]),e.point.set(n,r)}return t}),t.effect("waves",{blend:"opacity",rgba:"random",level:50,xsines:[1,10],ysines:[1,10]},function(e,t){if(void 0===t.xsines?t.xsines=e.randInt(1,10):"object"==typeof t.xsines&&(t.xsines=e.randInt(t.xsines[0],t.xsines[1])),void 0===t.ysines?t.ysines=e.randInt(1,10):"object"==typeof t.ysines&&(t.ysines=e.randInt(t.ysines[0],t.ysines[1])),void 0===t.rgba){var n=void 0!==t.opacity?t.opacity:255;t.rgba=e.rgba([[0,255],[0,255],[0,255],n])}for(var r=0;r<e.texture.width;r++)for(var a=0;a<e.texture.height;a++){var i=127+63.5*Math.sin(r/e.texture.width*t.xsines*2*e.calc.pi)+63.5*Math.sin(a/e.texture.height*t.ysines*2*e.calc.pi);"object"==typeof t.channels?e.point.rgba=[t.channels[0]?i:0,t.channels[1]?i:0,t.channels[2]?i:0,t.channels[3]?i:0]:e.point.rgba=e.point.colorize([i,i,i,255],t.rgba,t.level),e.point.set(r,a)}return t}),t.effect("crosshatch",{blend:"opacity",level:50},function(e,t){null==t.xadjust&&(t.xadjust=e.randInt(1,10)),void 0===t.yadjust&&(t.yadjust=e.randInt(1,10)),void 0===t.rgba&&(t.rgba=[e.randInt(0,255),e.randInt(0,255),e.randInt(0,255),255]);for(var n=0;n<e.texture.width;n++)for(var r=0;r<e.texture.height;r++){var a=127+63.5*Math.sin(n*n/t.xadjust)+63.5*Math.cos(r*r/t.yadjust);e.point.rgba=e.point.colorize([a,a,a,255],t.rgba,t.level),e.point.set(n,r)}return t}),t.effect("clouds",{blend:"opacity",rgba:"random",seed:[1,262140],roughness:[2,16],colormap:null},function(h,p){p.roughness=h.randByArray(p.roughness);var g=h.texture.width,b=h.texture.height,r=[],y=function(e,t,n){return e=Math.round(e),t=Math.round(t),e<0&&(e=g+e),g<=e&&(e-=g),t<0&&(t=b+t),b<=t&&(t-=b),void 0!==n?r[e][t]=n:r[e][t]},m=function(e){return(h.calc.randomseed()-.5)*(e/(g+g)*p.roughness)},v=function(e){var t=e/2;if(t<=1)return p;for(var n=t-t;n<=g+t;n+=t)for(var r=t-t;r<=b+t;r+=t){var a=y(n-t,r-t),i=y(n,r-t),o=y(n-t,r),s=y(n,r),c=n-t/2,l=r-t/2,u=y(c,l,h.calc.normalize1((a+i+o+s)/4+m(e))),d=n-e+t/2;y(n-t,l,h.calc.normalize1((a+o+u+y(d,l))/4+m(e)));var f=r-e+t/2;y(c,r-t,h.calc.normalize1((a+i+u+y(c,f))/4+m(e)))}v(t)};h.calc.randomseed(p.seed),function(){for(var e=0;e<=g;e++){r[e]=[];for(var t=0;t<=b;t++)r[e][t]=0}}(),v(g),h.colormap.init(p.colormap,255,function(e){p.colormap=e});for(var e=0;e<g;e++)for(var t=0;t<b;t++){var n=parseInt(255*r[e][t],10);null!==h.colormap.data?h.point.rgba=h.colormap.get(n,p.rgba):h.point.rgba=h.point.colorize(p.rgba,[n,n,n,255]),h.point.set(e,t)}return p}),t.effect("colorbar",{type:"horizontal",colormap:"random",mirror:!0},function(e,t){var n=e.texture.width,r=e.texture.height,a="horizontal"==t.type?n:r;e.colormap.init(t.colormap,a,function(e){t.colormap=e});if("horizontal"==t.type)for(var i=0;i<n;i++){if(t.mirror){var o=i<n/2?2*i:2*n-2*i;e.point.rgba=e.colormap.get(o)}else e.point.rgba=e.colormap.get(o);for(var s=0;s<r;s++)e.point.set(i,s)}else for(s=0;s<r;s++){if(t.mirror){o=s<r/2?2*s:2*r-2*s;e.point.rgba=e.colormap.get(o)}else e.point.rgba=e.colormap.get(o);for(i=0;i<n;i++)e.point.set(i,s)}return t}),t.effect("checkerboard",{size:[[2,32],[2,32]],rgba:"randomalpha"},function(a,e){var i=a.texture.width,o=a.texture.height;if("object"==typeof e.size)var t=e.size[0]=a.randByArray(e.size[0]),n=e.size[1]=a.randByArray(e.size[1]);else t=e.size,n=e.size;for(var s=i/t,c=o/n,r=function(e,t){for(var n=0;n<s;n++)for(var r=0;r<c;r++)n+e<i&&r+t<o&&a.point.set(n+e,r+t)},l=0;l<t;l++)if(l%2==0)for(var u=0;u<n;u++)r(u%2==0?l*s:l*s+s,u*c);return e}),t.effect("dots",{blend:"opacity",gridX:[2,64],gridY:[2,64],size:[1,250],seed:[1,262140],rgba:"randomalpha",shape:"sphere",dynamic:!0,xsines:[1,16],ysines:[1,16]},function(e,t){t.gridX=e.randByArray(t.gridX),t.gridY=e.randByArray(t.gridY),void 0===t.xsines?t.xsines=e.randInt(1,10):"object"==typeof t.xsines&&(t.xsines=e.randInt(t.xsines[0],t.xsines[1])),void 0===t.ysines?t.ysines=e.randInt(1,10):"object"==typeof t.ysines&&(t.ysines=e.randInt(t.ysines[0],t.ysines[1]));for(var n=e.randByArraySeed(t.size)/100,r=e.texture.width,a=e.texture.height,i=r/t.gridX,o=a/t.gridY,s=i/2,c=o/2,l=1;l<=t.gridX;l++)for(var u=1;u<=t.gridY;u++){var d=n*(i+o)/2/2,f=d-d/2*Math.sin(l/t.gridX*t.xsines*2*e.calc.pi)+d/2*Math.sin(u/t.gridY*t.ysines*2*e.calc.pi);switch(t.shape){case"sphere":e.shape.sphere(e,l*i-s,u*o-c,2*f,!0,t.rgba,t.dynamic);break;case"pyramid":e.shape.pyramid(e,l*i-s,u*o-c,f,f,!0,t.rgba,t.dynamic);break;case"rect":e.shape.rect(e,l*i-s,u*o-c,f,f,!0,t.rgba,t.dynamic);break;default:f/=2,e.shape.circle(e,l*i-s,u*o-c,f,!0)}}return t}),t.effect("mandelbrot",{blend:"opacity",rgba:"randomalpha",seed:[1,262140],iteration:[8,512],skip:[0,8]},function(e,t){t.skip=e.randByArray(t.skip),t.iteration=e.randByArray(t.iteration);for(var n=e.texture.width,r=e.texture.height,a=t.rgba[0],i=t.rgba[1],o=t.rgba[2],s=256/a,c=256/i,l=256/o,u=t.iteration,d=0,f=0,h=0,p=0,g=0,b=0,y=0;y<r;y++){f=3*y/r-1.5;for(var m=0;m<n;m++){h=d=3*m/n-2,p=f;for(var v=0;v<u&&!(4<(g=h*h)+(b=p*p));v++)p=2*h*p+f,h=g-b+d;v>t.skip&&(e.point.rgba=[v%a*s,v%i*c,v%o*l,e.point.rgba[3]],e.point.set(m,y))}}return t})}(),function(e){var r,a,t=window.tgen;t.event("beforeEffect","save start time",function(e,t){r=(new Date).getTime()}),t.event("afterEffect","log",function(e,t){var n=(new Date).getTime()-r;e.log(t.layer,n,t.name,t.params)}),t.event("beforeRender","log",function(e,t){a=(new Date).getTime()}),t.event("afterRender","log",function(e,t){var n=(new Date).getTime()-a;e.log(n,t)})}(),function(e){var t=window.tgen;t.filter("opacity",{adjust:128},function(e,t){return e.walk(function(e){return e[3]=t.adjust,e}),t}),t.filter("vibrance",{adjust:128},function(e,t){var a=-1*t.adjust;return e.walk(function(e){var t=(e[0]+e[1]+e[2])/3,n=Math.max(e[0],e[1],e[2]),r=2*Math.abs(n-t)/255*a/100;return e[0]!==n&&(e[0]+=(n-e[0])*r),e[1]!==n&&(e[1]+=(n-e[1])*r),e[2]!==n&&(e[2]+=(n-e[2])*r),[e[0],e[1],e[2],e[3]]}),t}),t.filter("brightness",{adjust:50,legacy:!0},function(e,t){return!0===t.legacy?e.walk(function(e){return[Math.min(e[0]+t.adjust,255),Math.min(e[1]+t.adjust,255),Math.min(e[2]+t.adjust,255),e[3]]}):e.walk(function(e){return[e[0]=Math.min(255/e[0]*(t.adjust/255),255),e[1]=Math.min(255/e[1]*(t.adjust/255),255),e[2]=Math.min(255/e[2]*(t.adjust/255),255),e[3]]}),t}),t.filter("contrast",{adjust:50},function(e,t){var n=(100+t.adjust)/100;return e.walk(function(e){return e[0]=255*((e[0]/255-.5)*n+.5),e[1]=255*((e[1]/255-.5)*n+.5),e[2]=255*((e[2]/255-.5)*n+.5),[Math.max(Math.min(e[0],255),0),Math.max(Math.min(e[1],255),0),Math.max(Math.min(e[2],255),0),e[3]]}),t}),t.filter("threshold",{adjust:[64,128]},function(e,n){return n.adjust=e.randByArray(n.adjust),e.walk(function(e){var t=.2126*e[0]+.7152*e[1]+.0722*e[2]<=n.adjust?0:255;return[t,t,t,e[3]]}),n}),t.filter("gamma",{adjust:.5},function(e,t){return e.walk(function(e){return e[0]=255*Math.pow(e[0]/255,1/t.adjust),e[1]=255*Math.pow(e[1]/255,1/t.adjust),e[2]=255*Math.pow(e[2]/255,1/t.adjust),[e[0],e[1],e[2],e[3]]}),t}),t.filter("grayscale",{method:["ligthness","average","luminosity"]},function(n,e){switch("string"==typeof e&&(e={method:e}),"object"==typeof e.method&&(e.method=n.randItem(e.method)),e.method){case"ligthness":n.walk(function(e){var t=Math.max(e[0],e[1],e[2])+Math.min(e[0],e[1],e[2]);return[t,t,t,e[3]]});break;case"average":n.walk(function(e){var t=(e[0]+e[1]+e[2])/3;return[t,t,t,e[3]]});break;case"luminosity":n.walk(function(e){var t=n.calc.luminance(e);return[t,t,t,e[3]]})}return e}),t.filter("colorize",{level:50,rgba:"random",colormap:null},function(r,a){return r.colormap.init(a.colormap,255,function(e){a.colormap=e}),r.walk(function(e){if(r.colormap.data){var t=(e[0]+e[1]+e[2])/3,n=r.colormap.get(t,a.rgba);return n[3]=e[3],n}return r.point.colorize(e,a.rgba,a.level)}),a}),t.filter("invert",{channels:[1,1,1]},function(e,t){return e.walk(function(e){return[t.channels[0]?255-e[0]:e[0],t.channels[1]?255-e[1]:e[1],t.channels[2]?255-e[2]:e[2],e[3]]}),t}),t.filter("channel",{channels:[[.2,.8],[.4,1],[.8,1.2]]},function(e,t){return t.channels[0]=e.randByArray(t.channels[0],!0),t.channels[1]=e.randByArray(t.channels[1],!0),t.channels[2]=e.randByArray(t.channels[2],!0),e.walk(function(e){return[e[0]*t.channels[0],e[1]*t.channels[1],e[2]*t.channels[2],e[3]]}),t}),t.filter("backlight",{channels:[1,1,1]},function(e,t){return e.walk(function(e){return[t.channels[0]?255/e[0]*(255/e[0]):e[0],t.channels[1]?255/e[1]*(255/e[1]):e[1],t.channels[2]?255/e[2]*(255/e[2]):e[2],e[3]]}),t}),t.filter("sobel",{type:3},function(e,t){return e.do("convolute",{store:!1,transparent:!1,weights:"sobel"+t.type}),t}),t.filter("emboss",{type:2},function(e,t){return e.do("convolute",{store:!1,transparent:!1,weights:"emboss"+t.type}),t}),t.filter("edgedetect",{type:1},function(e,t){return e.do("convolute",{store:!1,transparent:!1,weights:"edgedetect"+t.type}),t}),t.filter("sharpen",{type:2},function(e,t){return e.do("convolute",{store:!1,transparent:!1,weights:"sharpen"+t.type}),t}),t.filter("blur",{},function(e,t){return e.do("convolute",{store:!1,transparent:!1,weights:[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9]}),t}),t.filter("sinecolor",{sines:[1,7],channel:[0,2]},function(n,r){return r.sines=n.randByArray(r.sines),r.channel=n.randByArray(r.channel),n.walk(function(e){var t=parseInt(255*Math.sin(e[r.channel]*(n.calc.pi/180)*(255/360)*r.sines));return e[r.channel]=Math.abs(t),e}),r}),t.filter("convolute",{blend:"opacity",transparent:!1,weights:"default1"},function(e,t){if("object"!=typeof t.weights&&"string"!=typeof t.weights||null==t.weights)return t;if("string"==typeof t.weights[0]&&(t.weights=e.randByArray(t.weights)),"string"==typeof t.weights)if("random"===t.weights){var n=-32;t.weights=[e.randIntSeed(n,32),e.randIntSeed(n,32),e.randIntSeed(n,32),e.randIntSeed(n,32),e.randIntSeed(n,32),e.randIntSeed(n,32),e.randIntSeed(n,32),e.randIntSeed(n,32),e.randIntSeed(n,32),e.randIntSeed(n,32),e.randIntSeed(n,32),e.randIntSeed(n,32)],e.log(t.weights.join(", "))}else{var r={edgedetect1:[-1,-1,-1,-1,8,-1,-1,-1,-1],edgedetect2:[0,1,0,1,-4,1,0,1,0],edgedetect3:[1,0,-1,0,0,0,-1,0,1],sharpen1:[0,-1,0,-1,5,-1,0,-1,0],sharpen2:[-1,-1,-1,-1,9,-1,-1,-1,-1],emboss1:[1,1,1,1,.7,-1,-1,-1,-1],emboss2:[-2,-1,0,-1,1,1,0,1,2],emboss3:[10,3,-2,-8,-5,7,-3,-12,11],emboss4:[-6,11,-9,-9,0,-4,12,8,-2],sobel1:[-1,-2,-1,0,0,0,1,2,1],sobel2:[-1,0,1,-2,0,2,-1,0,1],sobel3:[-5,-8,12,-4,-8,-12,9,6,9],default1:[1,-11,-7,5,2,4,4,9,-2],default2:[-5,-21,25,22,31,-16,-2,-21,-10],default3:[1,1,1,1,1,1,1,1,1]};if(null==r[t.weights])return t;t.weights=r[t.weights]}var a=new e.buffer;a.clear();for(var i=Math.round(Math.sqrt(t.weights.length)),o=Math.floor(i/2),s=t.transparent?1:0,c=0;c<e.texture.height;c++)for(var l=0;l<e.texture.width;l++){for(var u=0,d=0,f=0,h=0,p=0;p<i;p++)for(var g=0;g<i;g++){var b=t.weights[p*i+g],y=c+p-o,m=l+g-o,v=e.texture.get(m,y);u+=v[0]*b,d+=v[1]*b,f+=v[2]*b,h+=v[3]}a.set(l,c,[u,d,f,h+s*(255-h)])}for(var x=e.texture.size();x--;)e.texture.data[x]=a.data[x];return t})}(),function(e){var t=window.tgen;t.function("copy",{layer:null},function(e,t){return"number"==typeof t&&(t={layer:t}),null===t.layer&&(t.layer=e.layers.length-1),null!=e.layers[t.layer]&&(e.texture.data=e.layerCopy(t.layer)),t}),t.function("merge",{blend:"opacity",layer:0,opacity:null},function(e,t){if(void 0===e.layers[t.layer])return this;for(var n=e.layers[t.layer],r=0;r<e.texture.height;r++)for(var a=0;a<e.texture.width;a++){var i=e.texture.offset(a,r);e.point.rgba=[n[i],n[i+1],n[i+2],t.opacity?t.opacity:n[i+3]],e.point.set(a,r)}return t}),t.function("map",{xamount:[5,255],yamount:[5,255],xchannel:[0,2],ychannel:[0,2],xlayer:0,ylayer:0},function(e,t){t.xamount=e.randByArray(t.xamount),t.yamount=e.randByArray(t.yamount),t.xchannel=e.randByArray(t.xchannel),t.ychannel=e.randByArray(t.ychannel),t.xlayer=e.randByArray(t.xlayer),t.ylayer=e.randByArray(t.ylayer);for(var n=new e.buffer,r=e.texture.width,a=e.texture.height,i=e.layers[t.xlayer],o=e.layers[t.ylayer],s=0;s<r;s++)for(var c=0;c<a;c++){var l=e.texture.offset(s,c),u=i[l+t.xchannel],d=o[l+t.ychannel];if(r%16==0)var f=e.wrapx(s+(u*t.xamount*r>>16));else f=s+u*t.xamount*r/(r*r);if(a%16==0)var h=e.wrapy(c+(d*t.yamount*a>>16));else h=c+d*t.yamount*a/(a*a);var p=e.point.get(f,h);n.data[l]=p[0],n.data[l+1]=p[1],n.data[l+2]=p[2],n.data[l+3]=p[3]}for(var g=e.texture.size();g--;)e.texture.data[g]=n.data[g];return t})}(),function(e){var t=window.tgen;t.shape("rect",function(e,t,n,r,a,i){void 0!==i&&(t-=parseInt(r/2,10),n-=parseInt(a/2,10));for(var o=0;o<r;o++)for(var s=0;s<a;s++)e.point.set(t+o,n+s)}),t.shape("circle",function(e,t,n,r,a){null==a&&(t+=r,n+=r);for(var i=-r;i<r;i++)for(var o=Math.round(Math.sqrt(r*r-i*i)),s=-o;s<o;s++)e.point.set(t+i,n+s)}),t.shape("line",function(e,t,n,r,a){for(var i=Math.sqrt((r-t)*(r-t)+(a-n)*(a-n)),o=(r-t)/i,s=(a-n)/i,c=0,l=0,u=0;u<i;u++)c=t+o*u,l=n+s*u,e.point.set(c,l)}),t.shape("colorLine",function(e,t,n,r,a,i){for(var o=Math.sqrt((r-t)*(r-t)+(a-n)*(a-n)),s=(r-t)/o,c=(a-n)/o,l=0,u=0,d=i.length,f=0;f<o;f++){l=t+s*f,u=n+c*f;var h=parseInt(d*(f/o));e.point.rgba=i[h];for(var p=1;p<=7;p++)e.point.set(l-p,u+p)}}),t.shape("sphere",function(e,t,n,r,a,i,o){null==a&&(t+=r,n+=r);for(var s=-r;s<r;s++)for(var c=parseInt(Math.sqrt(r*r-s*s),10),l=-c;l<c;l++){var u=Math.min(255,Math.max(0,255-255*Math.sqrt(l*l+s*s)/(r/2)))/255;if(0<u){if(o)var d=255*u;else d=i[3];e.point.rgba=[i[0]*u,i[1]*u,i[2]*u,d],e.point.set(t+s,n+l)}}}),t.shape("pyramid",function(e,t,n,r,a,i,o,s){var c=parseInt(r/2,10),l=parseInt(a/2,10);1!=i&&(t+=c,n+=l);for(var u=-c;u<c;u++)for(var d=-l;d<l;d++){var f=255*(.25-Math.abs(u/r))+255*(.25-Math.abs(d/a));if(1<f){if(s)var h=f;else h=o[3];e.point.rgba=[o[0]/255*f,o[1]/255*f,o[2]/255*f,h],e.point.set(t+u,n+d)}}})}(),function(e){var t=window.tgen;t.effect("test-pattern",{},function(i,e){var t=i.texture.width,n=i.texture.height,r=function(e,t,n){var r=i.point.get(e,t);for(key in n)if(n[key]!=r[key]){var a="Not equal : "+e+" : "+t+" "+JSON.stringify(n)+", "+JSON.stringify(r);console.warn(a)}};i.point.blend="opacity",i.texture.clear([255,255,255,0]),r(0,0,[255,255,255,0]),i.point.rgba=[255,0,0,128],i.point.set(0,0),r(0,0,[255,0,0,128]),i.point.rgba=[0,255,0,128],i.point.set(0,0),r(0,0,[85,170,0,128]),r(0,0,[0,0,0,255]),i.point.rgba=[-1024,1024,128.5,127.6],i.point.set(0,0),r(0,0,[0,128,64,128]),i.texture.clear(),i.point.rgba=[255,0,0,128],i.point.set(0,0),i.point.rgba=[0,255,0,128],i.point.set(0,0),i.point.rgba=[0,0,255,128],i.point.set(0,0),r(0,0,[32,64,128,128]),i.texture.clear([255,255,255,255]),r(0,0,[255,255,255,255]),i.point.rgba=[255,0,0,128],i.point.set(0,0),i.point.rgba=[0,255,0,128],i.point.set(0,0),i.point.rgba=[0,0,255,128],i.point.set(0,0),r(0,0,[63,95,159,128]),i.point.rgba=[0,0,255,128],i.point.set(0,0),r(0,0,[36,73,146,128]),i.texture.clear(),i.point.rgba=[255,255,155,255],i.shape.rect(i,1,1,t-2,n-2);var a=20;i.point.rgba=[0,150,0,153],i.shape.rect(i,2,2,a,a),i.shape.rect(i,t-a-2,2,a,a),i.shape.rect(i,2,n-2-a,a,a),i.shape.rect(i,t-2-a,n-2-a,a,a),r(a,a,[102,192,62,153]),i.point.rgba=[20,20,10,51],i.shape.rect(i,t/2,n/2,178,178,!0),r(39,39,[208,208,126,51]),i.point.rgba=[10,20,210,178],i.shape.rect(i,t-5,n-5,10,10),r(2,2,[38,72,165,178]);a=20;return i.point.rgba=[10,10,210,250],i.shape.line(i,a,a,t-a,n-a),i.shape.line(i,t-a,a,a,n-a),i.shape.line(i,0,n/2,t,n/2),i.shape.line(i,t/2,0,t/2,n),r(129,127,[208,208,126,51]),r(127,129,[208,208,126,51]),r(236,20,[12,14,11,250]),r(20,20,[12,14,11,250]),r(20,235,[12,14,11,250]),i.point.rgba=[255,55,55,128],i.shape.rect(i,10,10,t-20,n-20),i.point.rgba=[0,0,255,76],i.shape.rect(i,t-2,n-2,4,4),i.point.rgba=[255,255,255,255],i.point.set(0,0),i.point.set(t-1,0),i.point.set(0,n-1),i.point.set(t-1,n-1),i.point.rgba=[25,25,0,51],i.shape.circle(i,t/4,n/4,t/4,!0),i.point.rgba=[255,255,0,25],i.shape.circle(i,t,n,t,!0),i.shape.sphere(i,t/4,n-n/4,t/2,!0,[255,0,0,0],!0),i.shape.sphere(i,t/2,n-n/4,t/2,!0,[0,255,0,0],!0),i.shape.sphere(i,t-t/4,n-n/4,t/2,!0,[255,255,255,0],!0),i.shape.pyramid(i,t-t/4,n/4,t/2,n/2,!0,[0,0,0,255],!0),i.do("brightness",{adjust:50}),i.do("vibrance",{adjust:100}),i.do("contrast",{adjust:20}),e}),t.effect("test-all",{},function(e,t){var n=0;for(var r in e.normalize="clamped",e.do("fill"),e.layers[n++]=e.texture.export(),e.do("waves",{blend:"lighten"}),e.layers[n++]=e.texture.export(),e.do("spheres",{blend:"difference"}),e.layers[n++]=e.texture.export(),e.effects){var a=e.effects[r];"test-all"!=a&&(e.do(a),e.layers[n++]=e.texture.export())}return t})}();